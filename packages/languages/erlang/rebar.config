{erl_opts, [debug_info]}.

{deps, [
    % Blockchain & Crypto
    {libp2p, "0.46.1"},
    {crypto, "5.1.4"},
    {jose, "1.11.2"},
    
    % HTTP & JSON
    {cowboy, "2.10.0"},
    {jsx, "3.1.0"},
    {jiffy, "1.1.1"},
    
    % Database
    {epgsql, "4.7.1"},
    {eredis, "1.7.1"},
    
    % Distributed Systems
    {partisan, "5.0.0"},
    {riak_core, "3.1.1"},
    
    % Image Processing
    {opencv_erl, "0.1.0"},
    
    % Testing
    {proper, "1.4.0"},
    {meck, "0.9.2"}
]}.

{shell, [
    {config, "config/sys.config"},
    {apps, [justice_identity_protection]}
]}.

{profiles, [
    {prod, [
        {erl_opts, [no_debug_info, warnings_as_errors]},
        {relx, [{dev_mode, false},
                {include_erts, true}]}
    ]},
    {test, [
        {deps, [proper, meck]},
        {erl_opts, [debug_info]}
    ]}
]}.

{relx, [{release, {justice_identity_protection, "1.0.0"},
         [justice_identity_protection,
          sasl]},

        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"},

        {dev_mode, true},
        {include_erts, false},

        {extended_start_script, true}]}.

{project_plugins, [rebar3_hex, rebar3_ex_doc]}.

{hex, [{doc, ex_doc}]}.

{ex_doc, [
    {extras, ["README.md", "LICENSE"]},
    {main, "README.md"},
    {source_url, "https://github.com/justice-platform/identity-protection-erlang"}
]}.
